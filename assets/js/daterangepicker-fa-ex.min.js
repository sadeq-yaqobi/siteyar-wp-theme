((i,s)=>{if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(t,e,a){i.daterangepicker=s(0,0,t,e)});else if("undefined"!=typeof exports){var e="undefined"!=typeof window?window.jQuery:void 0;if(!e)try{e.fn||(e.fn={})}catch(t){if(!e)throw new Error("jQuery dependency not found")}s(0,exports,momentjs,e)}else i.daterangepicker=s(0,0,i.moment||moment,i.jQuery||i.Zepto||i.ender||i.$)})(this||{},function(t,e,_,E){function i(t,e,a){var i,s,n,r;if(e.jalaali,this.parentEl="body",this.element=E(t),this.startDate=_().startOf("day"),this.endDate=_().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.language="en",this.ranges={},this.jalaali=!1,this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:_.weekdaysMin(),monthNames:_.monthsShort(),firstDay:_.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),"string"!=typeof(e=E.extend(this.element.data(),e)).template&&(e.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="drp-calendar5"></i><div class="calendar-time"><div class="flex-time"></div><i class="fa fa-clock-o glyphicon glyphdrp-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="drp-calendar5"></i><div class="calendar-time"><div class="flex-time"></div><i class="fa fa-clock-o glyphicon glyphdrp-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e.parentEl&&E(e.parentEl).length?E(e.parentEl):E(this.parentEl),this.container=E(e.template).appendTo(this.parentEl),e.jalaali&&(this.locale={format:"jYYYY/jMM/jDD",separator:" - ",applyLabel:"ثبت",cancelLabel:"کنسل",weekLabel:"W",customRangeLabel:"بازه دلخواه",daysOfWeek:["ی","د","س","چ","پ","ج","ش"],monthNames:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],firstDay:6}),"object"==typeof e.locale&&("string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel)&&(this.locale.customRangeLabel=e.locale.customRangeLabel),"string"==typeof e.startDate&&(this.startDate=_(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=_(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=_(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=_(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=_(e.startDate)),"object"==typeof e.endDate&&(this.endDate=_(e.endDate)),"object"==typeof e.minDate&&(this.minDate=_(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=_(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.language&&(this.language=e.language),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker)&&(this.endDate=this.startDate.clone()),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),0!=this.locale.firstDay)for(var o=this.locale.firstDay;0<o;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),o--;if(void 0===e.startDate&&void 0===e.endDate&&E(this.element).is("input[type=text]")&&(n=i=null,2==(r=(t=E(this.element).val()).split(this.locale.separator)).length?(n=_(r[0],this.locale.format),i=_(r[1],this.locale.format)):this.singleDatePicker&&""!==t&&(n=_(t,this.locale.format),i=_(t,this.locale.format)),null!==n)&&null!==i&&(this.setStartDate(n),this.setEndDate(i)),"object"==typeof e.ranges){for(s in e.ranges){n="string"==typeof e.ranges[s][0]?_(e.ranges[s][0],this.locale.format):_(e.ranges[s][0]),i="string"==typeof e.ranges[s][1]?_(e.ranges[s][1],this.locale.format):_(e.ranges[s][1]),this.minDate&&n.isBefore(this.minDate)&&(n=this.minDate.clone());var l=this.maxDate;(l=this.dateLimit&&n.clone().add(this.dateLimit).isAfter(l)?n.clone().add(this.dateLimit):l)&&i.isAfter(l)&&(i=l.clone()),this.minDate&&i.isBefore(this.minDate)||l&&n.isAfter(l)||((l=document.createElement("textarea")).innerHTML=s,this.ranges[l.value]=[n,i])}var h="<ul>";for(s in this.ranges)h+="<li>"+s+"</li>";h=h+("<li>"+this.locale.customRangeLabel+"</li>")+"</ul>",this.container.find(".ranges").prepend(h)}"function"==typeof a&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),void 0!==e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==e.ranges&&"right"==this.opens&&(t=(r=this.container.find(".ranges")).clone(),r.remove(),this.container.find(".calendar.left").parent().prepend(t)),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",E.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",E.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",E.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",E.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",E.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",E.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",E.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",E.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",E.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",E.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",E.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",E.proxy(this.clickCancel,this)).on("click.daterangepicker","li",E.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",E.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",E.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":E.proxy(this.show,this),"focus.daterangepicker":E.proxy(this.show,this),"keyup.daterangepicker":E.proxy(this.elementChanged,this),"keydown.daterangepicker":E.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",E.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))}function W(t,e){return e<6?31:e<11||_.jIsLeapYear(t)?30:29}return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=_(t,this.locale.format)),"object"==typeof t&&(this.startDate=_(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=_(t,this.locale.format)),"object"==typeof t&&(this.endDate=_(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){var t;this.endDate?(t=this.element.data().jalaali,(this.singleDatePicker||!this.leftCalendar.month||!this.rightCalendar.month||this.startDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.startDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.endDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM"))&&(this.leftCalendar.month=t?this.startDate.clone().jDate(2):this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=t?this.startDate.clone().jDate(2).add(1,"jMonth"):this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=t?this.endDate.clone().jDate(2):this.endDate.clone().date(2))):this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=t?this.startDate.clone().jDate(2):this.startDate.clone().date(2),this.rightCalendar.month=t?this.startDate.clone().jDate(2).add(1,"jMonth"):this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){var t,e,a,i;if(this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(a),this.rightCalendar.month.hour(t).minute(e).second(a)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var s,n=!0,r=0;for(s in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[s][0])&&this.endDate.isSame(this.ranges[s][1])){n=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[s][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[s][1].format("YYYY-MM-DD")){n=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}r++}n&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(t){var e,a,i,s,n,r=this.element.data().jalaali,o="left"==t?this.leftCalendar:this.rightCalendar,l=(f=r?(l=o.month.jMonth(),f=o.month.jYear(),e=o.month.hour(),a=o.month.minute(),i=o.month.second(),c=W(f,l),y=_(f+"/"+(l+1)+"/1","jYYYY/jMM/jDD"),b=_(f+"/"+(l+1)+"/"+c,"jYYYY/jMM/jDD"),s=_(y).subtract(1,"jMonth").jMonth(),W(n=_(y).subtract(1,"jMonth").jYear(),s)):(l=o.month.month(),f=o.month.year(),e=o.month.hour(),a=o.month.minute(),i=o.month.second(),c=_([f,l]).daysInMonth(),y=_([f,l,1]),b=_([f,l,c]),s=_(y).subtract(1,"month").month(),n=_(y).subtract(1,"month").year(),_([n,s]).daysInMonth()),y.day());(o=[]).firstDay=y,o.lastDay=b;for(var h=0;h<6;h++)o[h]=[];for(var c=f-l+this.locale.firstDay+1,d=(f<c&&(c-=7),l==this.locale.firstDay&&(c=f-6),r?_(n+"/"+(s+1)+"/"+c+" 12:"+a+":"+i,"jYYYY/jMM/jDD HH:mm:ss"):_([n,s,c,12,a,i])),h=0,m=0,p=0;h<42;h++,m++,d=_(d).add(24,"hour"))0<h&&m%7==0&&(m=0,p++),o[p][m]=d.clone().hour(e).minute(a).second(i),d.hour(12),this.minDate&&o[p][m].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&o[p][m].isBefore(this.minDate)&&"left"==t&&(o[p][m]=this.minDate.clone()),this.maxDate&&o[p][m].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&o[p][m].isAfter(this.maxDate)&&"right"==t&&(o[p][m]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=o:this.rightCalendar.calendar=o;var f,u="left"==t?this.minDate:this.startDate,D=this.maxDate,g=("left"==t?this.startDate:this.endDate,this.language),k='<table class="table-condensed">',y=(k=k+"<thead>"+"<tr>",this.showWeekNumbers&&(k+="<th></th>"),u&&!u.isBefore(o.firstDay)||this.linkedCalendars&&"left"!=t?k+="<th></th>":k+='<th class="prev available"><span></span></th>',this.locale.monthNames[r?o[1][1].jMonth():o[1][1].month()]+o[1][1].format(r?" jYYYY":" YYYY")),v=r?"jMonth":"month",b=r?"jYear":"year";if(this.showDropdowns){for(var Y=o[1][1][v](),C=o[1][1][b](),M=D&&D[b]()||C+5,l=u&&u[b]()||C-50,P=C==l,w=C==M,x=(console.log(o[1][1]),console.log(Y),console.log(C),'<select class="monthselect form-control">'),j=0;j<12;j++)(!P||j>=u[v]())&&(!w||j<=D[v]())?x+="<option value='"+j+"'"+(j===Y?" selected='selected'":"")+">"+this.locale.monthNames[j]+"</option>":x+="<option value='"+j+"'"+(j===Y?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[j]+"</option>";x+="</select>";for(var I='<select class="yearselect form-control">',L=l;L<=M;L++)I+='<option value="'+L+'"'+(L===C?' selected="selected"':"")+">"+L+"</option>";y=x+(I+="</select>")}k+='<th colspan="5" class="month">'+y+"</th>",D&&!D.isAfter(o.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?k+="<th></th>":k+='<th class="next available"><span></span></th>',k+="</tr><tr>",this.showWeekNumbers&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),E.each(this.locale.daysOfWeek,function(t,e){k+="<th>"+e+"</th>"}),k+="</tr></thead><tbody>",null==this.endDate&&this.dateLimit&&(f=this.startDate.clone().add(this.dateLimit).endOf("day"),D&&!f.isBefore(D)||(D=f));for(p=0;p<6;p++){k+="<tr>",this.showWeekNumbers&&(k+='<td class="week">'+o[p][0].week()+"</td>");for(m=0;m<7;m++){for(var A=[],B=(o[p][m].isSame(new Date,"day")&&A.push("today"),r?o[p][m].jMonth()!=o[1][1].jMonth()&&A.push("off"):o[p][m].month()!=o[1][1].month()&&A.push("off"),this.minDate&&o[p][m].isBefore(this.minDate,"day")&&A.push("off","disabled"),D&&o[p][m].isAfter(D,"day")&&A.push("off","disabled"),this.isInvalidDate(o[p][m])&&A.push("off","disabled"),o[p][m].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&A.push("active","start-date"),null!=this.endDate&&o[p][m].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&A.push("active","end-date"),null!=this.endDate&&o[p][m]>this.startDate&&o[p][m]<this.endDate&&A.push("in-range"),""),S=!1,h=0;h<A.length;h++)B+=A[h]+" ","disabled"==A[h]&&(S=!0);S||(B+="available"),k+='<td class="'+B.replace(/^\s+|\s+$/g,"")+'" data-toggle="tooltip" data-container="body" data-placement="top" title="'+(r?o[p][m].format("DD-MMMM-YYYY"):o[p][m].format("jYYYY/jMM/jDD"))+'" data-title="r'+p+"c"+m+'">'+("en"==g?r?o[p][m].jDate():o[p][m].date():(t=>{for(var e,a=[];t=(t-(e=t%10))/10,a.unshift(["&#",1776+e,";"].join("")),0<t;);return a.join("")})(r?o[p][m].jDate():o[p][m].date()))}k+="</tr>"}k+="</tbody></table>",this.container.find(".calendar."+t+" .calendar-table").html(k)},renderTimePicker:function(t){for(var e,a,i=this.maxDate,s=(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(i=this.startDate.clone().add(this.dateLimit)),"left"==t?(e=this.startDate.clone(),a=this.minDate):"right"==t&&(e=(this.endDate||this.previousRightTime).clone(),a=this.startDate,""!=(s=this.container.find(".calendar.right .calendar-time div")).html())&&(e.hour(s.find(".hourselect option:selected").val()||e.hour()),e.minute(s.find(".minuteselect option:selected").val()||e.minute()),e.second(s.find(".secondselect option:selected").val()||e.second()),this.timePicker24Hour||("PM"===(s=s.find(".ampmselect option:selected").val())&&e.hour()<12&&e.hour(e.hour()+12),"AM"===s&&12===e.hour()&&e.hour(0)),(e=e.isBefore(this.startDate)?this.startDate.clone():e).isAfter(i))&&(e=i.clone()),d='<select class="hourselect form-control">',this.timePicker24Hour?0:1),n=this.timePicker24Hour?23:12,r=s;r<=n;r++){var o=r,l=(this.timePicker24Hour||(o=12<=e.hour()?12==r?12:r+12:12==r?0:r),e.clone().hour(o)),h=!1;a&&l.minute(59).isBefore(a)&&(h=!0),i&&l.minute(0).isAfter(i)&&(h=!0),o!=e.hour()||h?d+=h?'<option value="'+r+'" disabled="disabled" class="disabled">'+r+"</option>":'<option value="'+r+'">'+r+"</option>":d+='<option value="'+r+'" selected="selected">'+r+"</option>"}for(var c,d=d+"</select> "+': <select class="minuteselect form-control">',r=0;r<60;r+=this.timePickerIncrement){var m=r<10?"0"+r:r,l=e.clone().minute(r),h=!1;a&&l.second(59).isBefore(a)&&(h=!0),i&&l.second(0).isAfter(i)&&(h=!0),e.minute()!=r||h?d+=h?'<option value="'+r+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+r+'">'+m+"</option>":d+='<option value="'+r+'" selected="selected">'+m+"</option>"}if(d+="</select> ",this.timePickerSeconds){d+=': <select class="secondselect form-control">';for(r=0;r<60;r++){m=r<10?"0"+r:r,l=e.clone().second(r),h=!1;a&&l.isBefore(a)&&(h=!0),i&&l.isAfter(i)&&(h=!0),e.second()!=r||h?d+=h?'<option value="'+r+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+r+'">'+m+"</option>":d+='<option value="'+r+'" selected="selected">'+m+"</option>"}d+="</select> "}this.timePicker24Hour||(d+='<select class="ampmselect form-control">',c=s="",a&&e.clone().hour(12).minute(0).second(0).isBefore(a)&&(s=' disabled="disabled" class="disabled"'),i&&e.clone().hour(0).minute(0).second(0).isAfter(i)&&(c=' disabled="disabled" class="disabled"'),12<=e.hour()?d+='<option value="AM"'+s+'>ق.ظ</option><option value="PM" selected="selected"'+c+">ب.ظ</option>":d+='<option value="AM" selected="selected"'+s+'>ق.ظ</option><option value="PM"'+c+">ب.ظ</option>",d+="</select>"),this.container.find(".calendar."+t+" .calendar-time div").html(d)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,e={top:0,left:0},a=E(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},a=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:a-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>E(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=E.proxy(function(t){this.outsideClick(t)},this),E(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),E(window).on("resize.daterangepicker",E.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),E(document).off(".daterangepicker"),E(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=E(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||((t=t.target.innerHTML)==this.locale.customRangeLabel?this.updateView():(t=this.ranges[t],this.container.find("input[name=daterangepicker_start]").val(t[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(t[1].format(this.locale.format))))},clickRange:function(t){var t=t.target.innerHTML;(this.chosenLabel=t)==this.locale.customRangeLabel?this.showCalendars():(t=this.ranges[t],this.startDate=t[0],this.endDate=t[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply())},clickPrev:function(t){E(t.target).parents(".calendar").hasClass("left")&&(this.leftCalendar.month.subtract(1,"month"),!this.linkedCalendars)||this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){(E(t.target).parents(".calendar").hasClass("left")||(this.rightCalendar.month.add(1,"month"),this.linkedCalendars))&&this.leftCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e,a,s,n,r,o;this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||E(t.target).hasClass("available")&&(e=(a=E(t.target).attr("data-title")).substr(1,1),a=a.substr(3,1),s=(E(t.target).parents(".calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).calendar[e][a],(this.endDate?this.container.find("input[name=daterangepicker_start]"):this.container.find("input[name=daterangepicker_end]")).val(s.format(this.locale.format)),n=this.leftCalendar,r=this.rightCalendar,o=this.startDate,this.endDate||this.container.find(".calendar td").each(function(t,e){var a,i;E(e).hasClass("week")||(i=(a=E(e).attr("data-title")).substr(1,1),a=a.substr(3,1),(i=(E(e).parents(".calendar").hasClass("left")?n:r).calendar[i][a]).isAfter(o)&&i.isBefore(s)?(E(e).addClass("in-range"),E(e).next().addClass("selected-end")):(E(e).removeClass("in-range"),E(e).next().removeClass("selected-end")))}))},clickDate:function(t){var e,a,i,s,n,r;E(t.target).hasClass("available")&&(e=(a=E(t.target).attr("data-title")).substr(1,1),a=a.substr(3,1),t=(E(t.target).parents(".calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).calendar[e][a],this.endDate||t.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(s=this.container.find(".left .ampmselect").val())&&i<12&&(i+=12),"AM"===s&&12===i&&(i=0)),n=parseInt(this.container.find(".left .minuteselect").val(),10),r=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,t=t.clone().hour(i).minute(n).second(r)),this.endDate=null,this.setStartDate(t.clone())):!this.endDate&&t.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(s=this.container.find(".right .ampmselect").val())&&i<12&&(i+=12),"AM"===s&&12===i&&(i=0)),n=parseInt(this.container.find(".right .minuteselect").val(),10),r=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,t=t.clone().hour(i).minute(n).second(r)),this.setEndDate(t.clone()),this.autoApply&&this.clickApply()),this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=this.element.data().jalaali,t=E(t.target).closest(".calendar").hasClass("left"),a=this.container.find(".calendar."+(t?"left":"right")),i=parseInt(a.find(".monthselect").val(),10),a=a.find(".yearselect").val();e&&(console.log(i),console.log(a),i=(e=_(a+"/"+i+"/15","jYYYY/jM/jD")).month(),a=e.year()),console.log(i),console.log(a),t||(a<this.startDate.year()||a==this.startDate.year()&&i<this.startDate.month())&&(i=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&i<this.minDate.month())&&(i=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&i>this.maxDate.month())&&(i=this.maxDate.month(),a=this.maxDate.year()),t?(this.leftCalendar.month.month(i).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(i).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),console.log(this.rightCalendar.month),console.log(this.leftCalendar.month),this.updateCalendars()},timeChanged:function(t){var t=E(t.target).closest(".calendar"),e=t.hasClass("left"),a=parseInt(t.find(".hourselect").val(),10),i=parseInt(t.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0;this.timePicker24Hour||("PM"===(t=t.find(".ampmselect").val())&&a<12&&(a+=12),"AM"===t&&12===a&&(a=0)),e?((t=this.startDate.clone()).hour(a),t.minute(i),t.second(s),this.setStartDate(t),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&this.endDate.isBefore(t)&&this.setEndDate(t.clone())):this.endDate&&((e=this.endDate.clone()).hour(a),e.minute(i),e.second(s),this.setEndDate(e)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(t){var t=E(t.target).closest(".calendar").hasClass("right"),e=_(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),a=_(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);e.isValid()&&a.isValid()&&(t&&a.isBefore(e)&&(e=a.clone()),this.setStartDate(e),this.setEndDate(a),t?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){var t,e,a;!this.element.is("input")||!this.element.val().length||this.element.val().length<this.locale.format.length||(a=e=null,2===(t=this.element.val().split(this.locale.separator)).length&&(e=_(t[0],this.locale.format),a=_(t[1],this.locale.format)),!this.singleDatePicker&&null!==e&&null!==a||(a=e=_(this.element.val(),this.locale.format)),e.isValid()&&a.isValid()&&(this.setStartDate(e),this.setEndDate(a),this.updateView()))},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},E.fn.daterangepicker=function(e,a){return this.each(function(){var t=E(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,e,a))}),this},i});